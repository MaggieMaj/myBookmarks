<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>我的导航</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <header></header>
    <main>
        <div class="wrapper" id="mainXXXX"></div>
    </main>
    <footer></footer>
    <script>
    keys={
        '0':{0:'q',1:'w',2:'e',3:'r',4:'t',5:'y',6:'u',7:'i',8:'o',9:'p',length:10},
        '1':{0:'a',1:'s',2:'d',3:'f',4:'g',5:'h',6:'j',7:'k',8:'l',length:9},
        '2':{0:'z',1:'x',2:'c',3:'v',4:'b',5:'n',6:'m',length:7},
        'length':3
    }
    hash={
        'q':'qq.com',
        'w':'weibo.com'
    }
    //取出localStorage中zzz对应的 hash
    hashInLocalStorage = JSON.parse(localStorage.getItem('zzz')||'null')
    if(hashInLocalStorage){         //一刷新就去读档，一变更就去存档
        hash = hashInLocalStorage  //如果已经存过了hash，就把之前的覆盖
    }
    //遍历 keys，生成 kbd 标签
    index = 0
    while(index<keys['length']){ //用while循环，生成3个div
        divXXXX=document.createElement('div')//创建一个div
        mainXXXX.appendChild(divXXXX)//给mianXXXX添加一个孩子div
        row = keys[index]//第一个数组 第二个数组 第三个数组
        //console.log(row)//打印出row的内容
        index2 = 0//用while循环,每个div生成若干个kbd,内容为row的内容
        while(index2< row['length']){//用while循环，生成10、9、7个kbd
            kbdXXXX = document.createElement('kbd')//每次生成一个kbd
            kbdXXXX.textContent = row[index2]//kbd中添加内容（第一行的第0～9个、第二行的第0～8个、第三行的第0～6个）
            buttonX = document.createElement('button') //创建button按钮
            buttonX.textContent = '编辑'  //按钮的内容为‘编辑’
            buttonX.id = row[index2]   //给出所点击按钮的id
            buttonX.onclick=function(xzkjcnxlkcjlk){ //button被点击时就执行下面的代码
                key = xzkjcnxlkcjlk['target']['id']//target：被用户点击的那个按钮
                x = prompt('给我一个网址')   //prompt弹出一个窗口，提示用户输入一个网址
                hash[key] = x //把用户输入的网址给hash键，按字母键即可访问
                localStorage.setItem('zzz',JSON.stringify(hash))//只要hash变了，就把hash存到zzz中
                console.log(hash)//打印
            }
            kbdXXXX.appendChild(buttonX)  //马上把按钮放到kbd里面
            divXXXX.appendChild(kbdXXXX)  //马上把kbd放到div里面
            index2 = index2 + 1//从0到9依次循环生成一行10个
        }
        index = index + 1//从0到2依次循环生成三行
    }

    //监听键盘事件
    document.onkeypress = function(xzkjcnxlkcjlk){
        //console.log('我发现你输入了一个键')   //只要用户按键，这一行就会执行
        //console.log('你按键时候的所有信息是')
        //console.log(xzkjcnxlkcjlk['key'])
        key = xzkjcnxlkcjlk['key'] //用一个单独的变量key来存储，可知用户按的什么键
        website = hash[key]   //得到这个hash按键对应到网址
        //console.log(website)  //打印出要去的网址
        //location.href = 'http://'+website //在当前地址栏的地址输入对应网址，则在当前页面打开对应网页
        window.open('http://'+website,'_blank')//新窗口打开网页
    }


    </script>
</body>
</html>